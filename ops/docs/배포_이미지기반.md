# ì´ë¯¸ì§€ ê¸°ë°˜ ë°°í¬ ê°€ì´ë“œ

## ğŸ“¦ ì‚¬ì „ ë¹Œë“œëœ ë„ì»¤ ì´ë¯¸ì§€ë¡œ ë°°í¬í•˜ê¸°

### 1. í•„ìˆ˜ ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- **Docker** ì„¤ì¹˜ (v20.10 ì´ìƒ)
- **NVIDIA Container Toolkit** (GPU ê°€ì† ì‚¬ìš© ì‹œ)
- 10GB ì´ìƒì˜ ì €ì¥ ê³µê°„

### 2. ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
```bash
# ë°±ì—”ë“œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
docker pull ghcr.io/chatbot-with-kt-dgucenter/chatbot-with-kt-dgucenter-backend:latest

# í”„ë¡ íŠ¸ì—”ë“œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
docker pull ghcr.io/chatbot-with-kt-dgucenter/chatbot-with-kt-dgucenter-frontend:latest
```

### 3. ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (GPU ì§€ì›)
```bash
docker run -d --gpus all \
  -p 8000:8000 \
  -e NVIDIA_VISIBLE_DEVICES=all \
  -e SERVICE_KEY=your_service_key \
  -e NAVER_CLIENT_ID=your_naver_id \
  -e NAVER_CLIENT_SECRET=your_naver_secret \
  --name dsl-chat-bot-backend \
  ghcr.io/chatbot-with-kt-dgucenter/chatbot-with-kt-dgucenter-backend:latest
```

### 4. í”„ë¡ íŠ¸ì—”ë“œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
```bash
docker run -d \
  -p 3000:3000 \
  -e REACT_APP_API_URL=http://<ë°±ì—”ë“œ_IP>:8000 \
  --name dsl-chat-bot-frontend \
  ghcr.io/chatbot-with-kt-dgucenter/chatbot-with-kt-dgucenter-frontend:latest
```

> **ì°¸ê³ **: `<ë°±ì—”ë“œ_IP>`ëŠ” ë°±ì—”ë“œ ì„œë²„ì˜ ì‹¤ì œ IP ì£¼ì†Œë¡œ ë³€ê²½

### 5. í™˜ê²½ë³€ìˆ˜ ì„¤ì • ê°€ì´ë“œ
| ë³€ìˆ˜ ì´ë¦„ | ì„¤ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ |
|-----------|------|------|--------|
| `NVIDIA_VISIBLE_DEVICES` | ì‚¬ìš©í•  GPU ì¥ì¹˜ | GPU ì‚¬ìš© ì‹œ | `all` |
| `SERVICE_KEY` | ë°±ì—”ë“œ ì¸ì¦ í‚¤ | âœ… | - |
| `NAVER_CLIENT_ID` | ë„¤ì´ë²„ API í´ë¼ì´ì–¸íŠ¸ ID | âœ… | - |
| `NAVER_CLIENT_SECRET` | ë„¤ì´ë²„ API í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿ | âœ… | - |
| `REACT_APP_API_URL` | í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì‚¬ìš©í•  API ì£¼ì†Œ | âœ… | `http://localhost:8000` |

### 6. ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ì˜ˆì‹œ (ë„ì»¤ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©)
```bash
# ì‚¬ìš©ì ì •ì˜ ë„¤íŠ¸ì›Œí¬ ìƒì„±
docker network create dsl-network

# ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ (ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°)
docker run -d --network dsl-network \
  --name dsl-backend \
  -e SERVICE_KEY=your_key \
  ghcr.io/...-backend:latest

# í”„ë¡ íŠ¸ì—”ë“œ ì»¨í…Œì´ë„ˆ (ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°)
docker run -d --network dsl-network \
  -p 3000:3000 \
  -e REACT_APP_API_URL=http://dsl-backend:8000 \
  --name dsl-frontend \
  ghcr.io/...-frontend:latest
```

### 7. ë¡œê·¸ í™•ì¸ ë° ëª¨ë‹ˆí„°ë§
```bash
# ë°±ì—”ë“œ ë¡œê·¸ í™•ì¸
docker logs -f dsl-chat-bot-backend

# í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸ í™•ì¸
docker logs -f dsl-chat-bot-frontend

# GPU ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
docker exec dsl-chat-bot-backend nvidia-smi
```

### 8. ì„œë¹„ìŠ¤ ì¤‘ì§€ ë° ì œê±°
```bash
# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker stop dsl-chat-bot-backend dsl-chat-bot-frontend

# ì»¨í…Œì´ë„ˆ ì œê±°
docker rm dsl-chat-bot-backend dsl-chat-bot-frontend

# ì´ë¯¸ì§€ ì œê±°
docker rmi ghcr.io/chatbot-with-kt-dgucenter/chatbot-with-kt-dgucenter-backend:latest
docker rmi ghcr.io/chatbot-with-kt-dgucenter/chatbot-with-kt-dgucenter-frontend:latest
```

### 9. ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

**Q: ì´ë¯¸ì§€ë¥¼ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´?**  
```bash
docker pull ghcr.io/chatbot-with-kt-dgucenter/chatbot-with-kt-dgucenter-backend:latest
docker stop dsl-chat-bot-backend
docker rm dsl-chat-bot-backend
docker run ... # ìƒˆ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
```

**Q: GPUë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì‹¤í–‰í•˜ë ¤ë©´? - ê¶Œì¥ X**  

`--gpus all` ì˜µì…˜ ì œê±° í›„ ì‹¤í–‰:
```bash
docker run -d -p 8000:8000 ... \
  ghcr.io/...-backend:latest
```

**Q: í™˜ê²½ë³€ìˆ˜ë¥¼ íŒŒì¼ë¡œ ê´€ë¦¬í•˜ë ¤ë©´?**  
`.env` íŒŒì¼ ìƒì„± í›„:
```bash
docker run -d --env-file .env ... \
  ghcr.io/...-backend:latest
```

---